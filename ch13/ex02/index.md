## f3()
### 予想
関数errXは非同期で呼び出されており、その場合、呼び出し元はコールスタック上に存在しない。従って、呼び出し元のtry節はコールスタック上に存在しないためcatchがされない。
順番としては「A → C」が出力され、エラーは何も表示せずに終了する。
### 結果
```
C
A
file:///home/nonoyama/js/js-exercises/ch13/ex02/index.ts:16
    throw new Error("X");
          ^
Error: X
    at errX (file:///home/nonoyama/js/js-exercises/ch13/ex02/index.ts:16:11)
```
### 説明
1. wait(0)は0ミリ秒後に満たされるプロミスを返す。ここの非同期プロセスでthrowされるエラーは同期プロセスではcatchされない。
2. 同期プロセスとしてfinally節が実行されCが出力される。
3. 次に非同期プロセスのwait(0)のプロミスが満たされ、コールバックのlogAが実行されることで（Aが出力される）、1つ目のthen()が満たされて、次に2つ目のthenが実行される。
4. エラーがthrowされて終わる。

図解:
wait0
|-|
  logC  // ここまで同期処理
  |-|
    logA  // ここから非同期処理
    |-|
      errX
      |-|

## f4()
### 予想
* wait2で2秒後に解決するプロミスが返され、2秒後にコールバックを実行（logAを出力し40を返す）。最初のthenが満たされる。
* 2番目のthenのコールバックが引数40で呼び出され、wait1で1秒後に解決するプロミスが返され、1秒後の実行で次のthenのコールバックを実行（logBを出力し100を返す）。
* 100で満たされた2つ目のthenの中のthenが、2つ目のthemも同時に満たす。
* 3つ目のthenが引数100で呼び出されlog(100)が出力される。

図解:
wait2
|----------|
           logA
           |-|
             wait1
             |-----|
                   logB
                   |-|
                     log(100)
                     |-|

### 結果
予想通り

```
A
B
100
```


## f5()
### 予想
```
A
40
B
```

図解:
wait2
|----------|
           logA
           |-|
              log(40)
              |-|
                wait1
                |-----|
                      logB
                      |-|

### 結果
2つ目のthenの引数が関数ではなくプロミスになっているため、1つ目のthenが満たされた後ではなく、同期処理として直ちに実行される。実行順番は2つ目のthen、1つ目のthen、3つ目のthen。

```
B
A
40
```

図解:

図解:
wait1
|-----|
      logB
      |-|
        wait2
        |----------|
                  logA
                  |-|
                    log(40)
                    |-|
        

## f6()
### 予想
順番に呼ばれる。
```
A
B
C
```

図解:
wait1
|-----|
      logA
      |-|
        wait1
        |-----|
              logB
              |-|
                wait2
                |----------|
                           log(C)
                           |-|

### 結果
pが満たされると同時に登録されたコールバックが同時に呼ばれる

図解:
wait1
|-----|
      logA  // pが満たされると同時に登録されたコールバックが同時に呼ばれる
      |-|
        wait1
        |-----|
              logB
              |-|
        wait2
        |----------|
                    log(C)
                    |-|
                    
## f7()
### 予想
図解:
wait1
|-----|
      logA
      |-|
        wait2
        |----------|
                   logB // 直ちに実行される
                   |-|
                     log(C)
                     |-|


### 予想
図解:
wait1
|-----|
      logA
      |-|
wait2
|----------|
            logB // 直ちに実行される
            |-|
              log(C)
              |-|                

## f8()
## f9()
## f10()
## f11()
## f12()